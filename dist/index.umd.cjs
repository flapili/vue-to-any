(function(n,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("defu"),require("html2canvas"),require("uuid")):typeof define=="function"&&define.amd?define(["exports","vue","defu","html2canvas","uuid"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n["Vue-to-any"]={},n.Vue,n.defu,n.html2canvas,n.uuid))})(this,function(n,e,h,x,y){"use strict";const k=e.defineComponent({__name:"Renderer",setup(v,{expose:w}){const i=e.reactive({});async function g({component:d,props:l,returnType:t,renderOptions:c,html2canvasOptions:_}){var f;const o=h(c,{nextTicks:1,hideComponent:!0,css:{},position:"fixed",maxWidth:"100vw",maxHeight:"100vh"});if(o.nextTicks<1)throw new Error("nextTicks must be greater than 0");if(t===void 0&&(t="B64Image"),!["B64Image","canvas"].includes(t))throw new Error("returnType must be either B64Image or canvas");const s=o.css;o.hideComponent&&(s.display="none"),s.position=o.position,s.maxWidth=o.maxWidth,s.maxHeight=o.maxHeight;const a=y.v4(),B={component:e.markRaw(d),props:l,id:a,instance:null,renderOptions:o,finalStyle:s};i[a]=B;for(let r=0;r<o.nextTicks;r++)await e.nextTick();if(i[a].instance===null)throw delete i[a],new Error(`Component not rendered after ${o.nextTicks} ticks`);const m=(f=i[a].instance.vnode)==null?void 0:f.el;if(!m)throw delete i[a],new Error("Unable to get html from component");const u=await x(m,{..._,onclone(r,T){var p;T.style.display=((p=c==null?void 0:c.css)==null?void 0:p.display)??"block"}});return delete i[a],t==="canvas"?u:u.toDataURL("image/png")}return w({render:g}),(d,l)=>(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i,t=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.component),{key:t.id,style:e.normalizeStyle(t.finalStyle),onVnodeMounted:c=>t.instance=c.component},null,8,["style","onVnodeMounted"]))),128))}});n.Renderer=k,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
