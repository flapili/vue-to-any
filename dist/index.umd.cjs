(function(n,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("defu"),require("html2canvas"),require("uuid")):typeof define=="function"&&define.amd?define(["exports","vue","defu","html2canvas","uuid"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n["Vue-to-any"]={},n.Vue,n.defu,n.html2canvas,n.uuid))})(this,function(n,e,d,m,h){"use strict";const k=e.defineComponent({inheritAttrs:!1,__name:"Renderer",setup(E,{expose:w}){const o=e.reactive({});async function y({component:l,props:f,style:r,returnType:t,renderOptions:x,html2canvasOptions:_}){var p;const s=d(x,{nextTicks:1}),b=d(r,{display:"none",position:"fixed"});if(s.nextTicks<1)throw new Error("nextTicks must be greater than 0");if(t===void 0&&(t="b64png"),!["b64png","canvas"].includes(t))throw new Error("returnType must be either b64png or canvas");const i=h.v4(),g={component:e.markRaw(l),props:f,id:i,instance:null,renderOptions:s,style:b};o[i]=g;for(let a=0;a<s.nextTicks;a++)await e.nextTick();if(o[i].instance===null)throw delete o[i],new Error(`Component not rendered after ${s.nextTicks} ticks`);const c=(p=o[i].instance.vnode)==null?void 0:p.el;if(!c)throw delete o[i],new Error("Unable to get html from component");if(t==="html")return c.outerHTML;const u=await m(c,{..._,onclone(a,T){T.style.display="block"}});if(delete o[i],t==="canvas")return u;if(t==="b64png")return u.toDataURL("image/png");throw new Error("Invalid returnType")}return w({render:y}),(l,f)=>(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o,r=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(r.component),e.mergeProps({key:r.id,ref_for:!0},r.props,{style:r.style,onVnodeMounted:t=>r.instance=t.component}),null,16,["style","onVnodeMounted"]))),128))}});n.Renderer=k,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
