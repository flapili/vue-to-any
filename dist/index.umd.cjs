(function(n,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("defu"),require("html2canvas"),require("uuid")):typeof define=="function"&&define.amd?define(["exports","vue","defu","html2canvas","uuid"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n["Vue-to-any"]={},n.Vue,n.defu,n.html2canvas,n.uuid))})(this,function(n,e,h,x,k){"use strict";const y=e.defineComponent({inheritAttrs:!1,__name:"Renderer",setup(v,{expose:w}){const i=e.reactive({});async function g({component:d,props:l,returnType:t,renderOptions:r,html2canvasOptions:_}){var u;const o=h(r,{nextTicks:1,hideComponent:!0,css:{},position:"fixed",maxWidth:"100vw",maxHeight:"100vh"});if(o.nextTicks<1)throw new Error("nextTicks must be greater than 0");if(t===void 0&&(t="B64Image"),!["B64Image","canvas"].includes(t))throw new Error("returnType must be either B64Image or canvas");const a=o.css;o.hideComponent&&(a.display="none"),a.position=o.position,a.maxWidth=o.maxWidth,a.maxHeight=o.maxHeight;const s=k.v4(),B={component:e.markRaw(d),props:l,id:s,instance:null,renderOptions:o,finalStyle:a};i[s]=B;for(let c=0;c<o.nextTicks;c++)await e.nextTick();if(i[s].instance===null)throw delete i[s],new Error(`Component not rendered after ${o.nextTicks} ticks`);const m=(u=i[s].instance.vnode)==null?void 0:u.el;if(!m)throw delete i[s],new Error("Unable to get html from component");const f=await x(m,{..._,onclone(c,T){var p;T.style.display=((p=r==null?void 0:r.css)==null?void 0:p.display)??"block"}});return delete i[s],t==="canvas"?f:f.toDataURL("image/png")}return w({render:g}),(d,l)=>(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i,t=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.component),e.mergeProps({key:t.id,ref_for:!0},t.props,{style:t.finalStyle,onVnodeMounted:r=>t.instance=r.component}),null,16,["style","onVnodeMounted"]))),128))}});n.Renderer=y,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
